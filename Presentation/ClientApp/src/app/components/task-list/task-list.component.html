<div class="header">
    <h1 class="greeting">Welcome back, {{ greeting }}!</h1>

    <button (click)="openDialog()">+ New Task</button>
</div>

<div class="cards">
    <div class="card" *ngFor="let task of tasks">
        <div>
            <h2>{{ task.title }}</h2>
            <p>{{ task.description }}</p>
        </div>

        <div>
            <div class="line"></div>

            <button [ngClass]="{'completed': task.isCompleted}" (click)="changeCompletion(task)">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z"
                        stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    <path d="M7.75 12L10.58 14.83L16.25 9.17004" stroke="#292D32" stroke-width="1.5"
                        stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
                <h4>
                    {{ task.isCompleted ? 'Completed' : 'Mark as completed' }}
                </h4>
            </button>
            <button [ngClass]="{'archived': task.isArchived}" (click)="changeArchivation(task)">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                  <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                  <g id="SVGRepo_iconCarrier"> 
                    <path d="M16.8199 2H7.17995C5.04995 2 3.31995 3.74 3.31995 5.86V19.95C3.31995 21.75 4.60995 22.51 6.18995 21.64L11.0699 18.93C11.5899 18.64 12.4299 18.64 12.9399 18.93L17.8199 21.64C19.3999 22.52 20.6899 21.76 20.6899 19.95V5.86C20.6799 3.74 18.9499 2 16.8199 2Z" 
                    stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> 
                    <path d="M9.58997 11L11.09 12.5L15.09 8.5" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                  </g>
                </svg>
                <h4>
                  {{ task.isArchived ? 'Archived' : 'Archive' }}
                </h4>
              </button>
        </div>
    </div>
</div>